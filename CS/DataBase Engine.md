

### 스토리지 엔진 ? 데이터베이스 엔진 ? <br>
데이터베이스 엔진 또는 스토리지 엔진으로 부르며 , 데이터를 조회 , 삽입 , 수정 , 삭제 하는 담당
<br>MySQL 에서는 여러 스토리지 엔진을 지원한다고 한다

- InnoDB 엔진 
- MyISAM 엔진 
- Memory 엔진 
- Archive 엔진 
- CSV 엔진 
- Federated 엔진

#### MyISAM

- 2009.12월 까지 기본엔진으로 MyISAM이 사용 되었다

- 특징 
  - COMMIT , ROLLBACK 같은 충돌 복구 기능을 가진다 
  - 트랜잭션을 제공하지 않는다

- 장점 
  - 전체적인 속도가 InnoDB보다 빠르다 
  - SELECT 작업 시 속도가 빨라서 읽기 작업에 적합

- 단점 
  - 데이터 무결성에 대한 보장이 되지 않는다 
  - Table-level Lock을 사용하기 때문에 갱신 작업 속도가 느리다

 > 주로 데이터 조회가 자주 발생하는 시스템에서 유용하다.
 > 대체로 티스토리 블로그 , 뉴스 , 통계 시스템 같은 읽기 작업이 주된 곳에서 쓰이면 유용하다

----

#### InnoDB

- 5.5 버전 이후부터는 InnoDB 를 기본엔진으로 사용 
- 특징 
  - MyISAM과 마찬가지로 COMMIT , ROLLBACK 충돌 복구 기능을 가진다 
  - 외부 키를 지원한다 Foreign Key 
  - Row- Level Lock 을 제공한다. 
  - 트랜잭션을 제공하며 ACID 속성을 보장한다

- 원자성(Atomicity), 일관성(Consistency), 격리(Isolation)  지속성(Durability)

- 장점 
  - MyISAM 보다 COMMIT , ROLLBACK 충돌 복구 기능이 뛰어나다 
  - Row Level Lock을 사용하기에 갱신 작업 속도가 빠르다
- 단점 
  - 시스템의 자원을 많이 사용한다


> 전자상거래 eCommerce 같이 구매,결제,재고파악등 다양한 트랜잭션이 발생하는 환경금융서비스 , 커뮤니티사이트 ( 작성 , 댓글 등 읽기 쓰기 수정 작업이 혼합된 환경 )에 사용 하기 적합하다 


----

#### Table Level Lock

- 테이블에 대한 잠금방식을 의미한다 
- 테이블 전체를 잠그며 , 어떤 작업이 테이블에 있는 데이터에 접근할 때 , 모든 테이블 전체가 잠긴다 
- 하나의 쓰기 작업이 진행중이라면 다른 모든 읽기와 쓰기에 대한 작업이 대기해야한다. 
- 커뮤니티같은 익명의 여러 사람들이 글을 작성하거나 읽을시 문제가 생긴다

#### Row Level Lock

- 특정 행만 잠근다 , 특정 행만 잠그기에 다른행은 여전히 접근이 가능하다

`A라는 사용자가 하나의 행을 수정 할 때 , A 사용자는 다른 행을 잠글 필요가 없다
여러 사용자가 동시에 서로 다른 행을 수정하거나 읽을 수 있다`

예시
> User 테이블이 있고 user_id 와 user_name 컬럼이 있다.  
> 여러 사용자가 동시에 회원 정보인 user_name을 수정한다면,  MyISAM 엔진 경우 user_id = 1 인 사용자가 
> user_name을 수정하는동안 다른 사용자는 테이블에서 읽기와 쓰기 작업을 할수 없다
> 
> InnoDM 경우 user_id = 1 인 사용자가 user_name을 수정하는 동안 <br>
> 다른 사용자인 user_id = 2 인 사용자는user_name을 수정 할 수 있다.
